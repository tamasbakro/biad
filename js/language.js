const translations = {
    hu: {
        // Navigáció és lábléc
        'nav_home': 'Főoldal',
        'nav_events': 'Események',
        'nav_bible': 'Biblia',
        'nav_live': 'Élő Közvetítés',
        'nav_gallery': 'Galéria',
        'nav_blog': 'Blog',
        'nav_contact': 'Kapcsolat',
        'nav_donate': 'Adományozás',
        'footer_contact': 'Kapcsolat',
        'footer_follow': 'Kövessen minket',
        'footer_rights': '&copy; 2025 Biserica Adventista Diosig. Minden jog fenntartva.',

        // Főoldal (index.html)
        'hero_title_index': 'Üdvözöljük a Diószegi Adventista Gyülekezet oldalán!',
        'hero_subtitle_index': 'Ismerje meg közösségünket, vegyen részt eseményeinken és találjon lelki békét.',
        'verse_of_the_day': 'Nap idézete',
        'latest_events_title': 'Legfrissebb események',
        'latest_blog_title': 'Legutóbbi blogbejegyzések',
        'view_all_events': 'Összes esemény megtekintése',
        'view_all_posts': 'Összes bejegyzés megtekintése',

        // Biblia (bible.html)
        'hero_title_bible': 'Biblia',
        'hero_subtitle_bible': 'Olvassa online a Bibliát, keressen fejezeteket, és fedezze fel Isten igéjét!',
        'search_placeholder': 'Keresés a Bibliában...',
        'ot_header': 'Ószövetség',
        'nt_header': 'Újszövetség',
        'prev_chapter': 'Előző fejezet',
        'next_chapter': 'Következő fejezet',
        'chapters_prefix': 'Fejezetek:',
        'chapter_suffix': '. fejezet',
        'loading_error': 'Hiba a Biblia betöltésekor.',
        'searching': 'Keresés folyamatban...',
        'no_results': 'Nincs találat',

        // Események (events.html)
        'hero_title_events': 'Események',
        'hero_subtitle_events': 'Csatlakozzon közelgő eseményeinkhez és programjainkhoz.',

        // Élő (live.html)
        'hero_title_live': 'Élő Közvetítés',
        'hero_subtitle_live': 'Nézze istentiszteleteinket és különleges eseményeinket élőben.',
        'live_stream_title': 'Élő Közvetítés',
        'live_stream_unavailable': 'Az élő közvetítés jelenleg nem elérhető. Kérjük, nézzen vissza később.',
        'upcoming_streams_title': 'Közelgő Közvetítések',
        'past_streams_title': 'Korábbi Közvetítések',

        // Galéria (gallery.html)
        'hero_title_gallery': 'Galéria',
        'hero_subtitle_gallery': 'Tekintse meg a közösségünkben és eseményeinken készült fotókat.',

        // Blog (blog.html)
        'hero_title_blog': 'Blog',
        'hero_subtitle_blog': 'Olvassa el lelkészeink és tagjaink legújabb bejegyzéseit és gondolatait.',
        
        // Kapcsolat (contact.html)
        'hero_title_contact': 'Kapcsolat',
        'hero_subtitle_contact': 'Lépjen kapcsolatba velünk, vagy látogasson el hozzánk.',
        'contact_form_title': 'Küldjön nekünk üzenetet',
        'form_name': 'Név',
        'form_email': 'Email',
        'form_message': 'Üzenet',
        'form_send': 'Üzenet küldése',
        'contact_info_title': 'Elérhetőségeink',
        'contact_address': 'Cím',
        'contact_phone': 'Telefon',

        // Adományozás (donate.html)
        'hero_title_donate': 'Adományozás',
        'hero_subtitle_donate': 'Támogassa egyházunkat és missziónkat adományával.',
        'donate_section_title': 'Adományozzon online',
        'donate_section_intro': 'Hálásan fogadjuk adományát. Válassza ki az Önnek megfelelő adományozási módot.',
        'donate_method_card': 'Bankkártya',
        'donate_method_transfer': 'Banki átutalás',
        'bank_details_title': 'Banki adatok',
        'account_holder': 'Számlatulajdonos',
        'account_number': 'Számlaszám',
        'bank_name': 'Bank neve',
        'donation_purpose': 'Kérjük, a közlemény rovatba írja be: "Adomány".'
    },
    ro: {
        // Navigare și subsol
        'nav_home': 'Acasă',
        'nav_events': 'Evenimente',
        'nav_bible': 'Biblia',
        'nav_live': 'Transmisiune Live',
        'nav_gallery': 'Galerie',
        'nav_blog': 'Blog',
        'nav_contact': 'Contact',
        'nav_donate': 'Donații',
        'footer_contact': 'Contact',
        'footer_follow': 'Urmăriți-ne',
        'footer_rights': '&copy; 2025 Biserica Adventista Diosig. Toate drepturile rezervate.',

        // Pagina principală (index.html)
        'hero_title_index': 'Bun venit pe pagina Bisericii Adventiste din Diosig!',
        'hero_subtitle_index': 'Descoperiți comunitatea noastră, participați la evenimentele noastre și găsiți pacea sufletească.',
        'verse_of_the_day': 'Versetul Zilei',
        'latest_events_title': 'Ultimele evenimente',
        'latest_blog_title': 'Ultimele articole de blog',
        'view_all_events': 'Vezi toate evenimentele',
        'view_all_posts': 'Vezi toate articolele',

        // Biblia (bible.html)
        'hero_title_bible': 'Biblia',
        'hero_subtitle_bible': 'Citiți Biblia online, căutați capitole și descoperiți cuvântul lui Dumnezeu!',
        'search_placeholder': 'Căutare în Biblie...',
        'ot_header': 'Vechiul Testament',
        'nt_header': 'Noul Testament',
        'prev_chapter': 'Capitolul precedent',
        'next_chapter': 'Capitolul următor',
        'chapters_prefix': 'Capitole:',
        'chapter_suffix': '. Capitolul',
        'loading_error': 'Eroare la încărcarea Bibliei.',
        'searching': 'Se caută...',
        'no_results': 'Niciun rezultat',
        
        // Evenimente (events.html)
        'hero_title_events': 'Evenimente',
        'hero_subtitle_events': 'Alăturați-vă evenimentelor și programelor noastre viitoare.',
        
        // Live (live.html)
        'hero_title_live': 'Transmisiune Live',
        'hero_subtitle_live': 'Urmăriți serviciile noastre divine și evenimentele speciale în direct.',
        'live_stream_title': 'Transmisiune Live',
        'live_stream_unavailable': 'Transmisiunea live nu este disponibilă în acest moment. Vă rugăm să reveniți mai târziu.',
        'upcoming_streams_title': 'Transmisiuni viitoare',
        'past_streams_title': 'Transmisiuni anterioare',

        // Galerie (gallery.html)
        'hero_title_gallery': 'Galerie',
        'hero_subtitle_gallery': 'Vedeți fotografii din comunitatea și evenimentele noastre.',

        // Blog (blog.html)
        'hero_title_blog': 'Blog',
        'hero_subtitle_blog': 'Citiți cele mai recente articole și gânduri de la pastorii și membrii noștri.',

        // Contact (contact.html)
        'hero_title_contact': 'Contact',
        'hero_subtitle_contact': 'Luați legătura cu noi sau vizitați-ne.',
        'contact_form_title': 'Trimiteți-ne un mesaj',
        'form_name': 'Nume',
        'form_email': 'Email',
        'form_message': 'Mesaj',
        'form_send': 'Trimite mesajul',
        'contact_info_title': 'Informațiile noastre de contact',
        'contact_address': 'Adresă',
        'contact_phone': 'Telefon',

        // Donații (donate.html)
        'hero_title_donate': 'Donații',
        'hero_subtitle_donate': 'Susțineți biserica și misiunea noastră prin donația dumneavoastră.',
        'donate_section_title': 'Donați online',
        'donate_section_intro': 'Apreciem cu recunoștință donația dumneavoastră. Alegeți metoda de donație preferată.',
        'donate_method_card': 'Card bancar',
        'donate_method_transfer': 'Transfer bancar',
        'bank_details_title': 'Detalii bancare',
        'account_holder': 'Deținătorul contului',
        'account_number': 'Număr de cont',
        'bank_name': 'Numele băncii',
        'donation_purpose': 'Vă rugăm să menționați "Donație" în detaliile transferului.'
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const langSwitcher = document.querySelector('.lang-switcher');

    const setLanguage = (lang) => {
        if (!lang || !['hu', 'ro'].includes(lang)) {
            lang = 'hu'; // Alapértelmezett nyelv
        }
        localStorage.setItem('language', lang);
        document.documentElement.lang = lang;

        // Frissíti a gombok aktív állapotát
        langSwitcher.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });

        // Lecseréli a szövegeket az oldalon
        document.querySelectorAll('[data-translate-key]').forEach(el => {
            const key = el.dataset.translateKey;
            if (translations[lang] && translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });

        // Speciális esetek (pl. placeholder)
        const searchInput = document.querySelector('.search-box input');
        if (searchInput && translations[lang] && translations[lang].search_placeholder) {
            searchInput.placeholder = translations[lang].search_placeholder;
        }
        
        // Főoldali idézet frissítése, ha a funkció létezik
        if (typeof loadVerseOfTheDay === 'function') {
            loadVerseOfTheDay(lang);
        }
    };

    langSwitcher.addEventListener('click', (e) => {
        e.preventDefault();
        const langButton = e.target.closest('.lang-btn');
        if (langButton) {
            const lang = langButton.dataset.lang;
            if (lang !== localStorage.getItem('language')) {
                setLanguage(lang);
                // Újratöltjük az oldalt, hogy minden script (pl. bible.js) a megfelelő nyelvvel inicializálódjon
                window.location.reload(); 
            }
        }
    });

    // Oldalbetöltéskor beállítjuk a nyelvet
    const currentLang = localStorage.getItem('language') || 'hu';
    setLanguage(currentLang);
}); 